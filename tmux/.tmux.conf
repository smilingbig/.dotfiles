# TODO
# I should also do a deeper dive into tmux
# Go through these options and leave comments on everything
set -g history-limit 50000
setw -g mode-keys vi
set-option -g default-shell /bin/zsh
# address vim mode switching delay (http://superuser.com/a/252717/65504)
set -s escape-time 0
set -g mouse on
set -g set-titles on
set -g default-terminal "xterm-kitty"

# Set prefix to Ctrl-s 
unbind C-s
set -g prefix C-s

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# Use v to trigger selection
bind-key -T copy-mode-vi v send-keys -X begin-selection
# Use y to yank current selection
bind-key -T copy-mode-vi y send-keys -X copy-selection-and-cancel

# Better settings for search mode
# https://stackoverflow.com/questions/32374907/tmux-mouse-copy-mode-jumps-to-bottom
unbind-key -T copy-mode-vi MouseDragEnd1Pane
set -g @yank_action 'copy-pipe' # or 'copy-pipe-and-cancel' for the default

bind-key -T copy-mode-vi y send-keys -X copy-selection

# super fast way to reach copy-mode and search upwards
bind-key / copy-mode \; send-key ?

# Plugins
set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-open'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
